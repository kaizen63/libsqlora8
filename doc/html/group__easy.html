<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libsqlora8: The easy interface</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>The easy interface</h1>Functions in this group use basically bind variables passed as strings in an argv.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga0">sqlo_exists</a> (<a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *table, const char *colname, const char *colval, const char *where)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tests if a value exists in a table.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga1">sqlo_count</a> (<a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *table, const char *colname, const char *colval, const char *where)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counts the number of items in the table.  <a href="#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga2">sqlo_run</a> (<a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *stmt, int argc, const char **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run a simple sql statements with parameters.  <a href="#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga3">sqlo_open</a> (<a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *stmt, int argc, const char **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a new cursor.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga4">sqlo_open2</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> *sthp, <a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *stmt, int argc, const char **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a new cursor.  <a href="#ga4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga5">sqlo_reopen</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int argc, const char **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reopens a already used cursor.  <a href="#ga5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga6">sqlo_fetch</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, unsigned int nrows)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetches the data from an open cursor.  <a href="#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga7">sqlo_values</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int *num, int dostrip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get one dataset.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned short *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga8">sqlo_value_lens</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int *num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the length of the returned values.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga9">sqlo_ocol_names</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int *num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the select list columns.  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga10">sqlo_ocol_names2</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int *num, const char ***ocol_names)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the select list columns.  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const int *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga11">sqlo_ocol_name_lens</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int *num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the select list columns name lengths.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga12">sqlo_ncols</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, int in)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of bind/select-list variables.  <a href="#ga12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga13">sqlo_query_result</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth, unsigned int *ncols, char ***values, unsigned short **value_lens, char ***colnames, unsigned int **colname_lens)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetch the next row from the resultset and return the columns.  <a href="#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga14">sqlo_command</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the sql command.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga15">sqlo_close</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the cursor.  <a href="#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga16">sqlo_exec</a> (<a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a> dbh, const char *stmt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute a simple sql statement.  <a href="#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga17">sqlo_isopen</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if a cursor is open.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__easy.html#ga18">sqlo_prows</a> (<a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of processed rows by this statement.  <a href="#ga18"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions in this group use basically bind variables passed as strings in an argv. 
<p>
The query results are also converted to strings. <hr><h2>Function Documentation</h2>
<a class="anchor" name="ga15" doxytag="sqlora.h::sqlo_close"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sth</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the cursor. 
<p>
Closes the cursor and releases the Oracle statement handle.<p>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga3">sqlo_open</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex13_8c-example.html#a12">ex13.c</a>, <a class="el" href="ex14_8c-example.html#a18">ex14.c</a>, <a class="el" href="ex15_8c-example.html#a24">ex15.c</a>, <a class="el" href="ex16_8c-example.html#a32">ex16.c</a>, and <a class="el" href="ex20_8c-example.html#a52">ex20.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="sqlora.h::sqlo_command"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* sqlo_command           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sth</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the sql command. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The active sql statement of the sth.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="sqlora.h::sqlo_count"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_count           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>colname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>colval</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>where</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Counts the number of items in the table. 
<p>
Counts the number of items where field = value [AND where]<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>I - A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>table</em>&nbsp;</td><td>I - A table name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colname</em>&nbsp;</td><td>I - A column name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colval</em>&nbsp;</td><td>I - A column value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>where</em>&nbsp;</td><td>I - More conditions (optional)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_NO_DATA </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex2.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="keywordtype">int</span> col_count(sqlo_db_handle_t dbh, <span class="keywordtype">char</span> * table_name)
{
  <span class="keywordtype">int</span> stat;
  <span class="keywordflow">if</span> ( 0 &gt; (stat = <a class="code" href="group__easy.html#ga1">sqlo_count</a>(dbh, <span class="stringliteral">"USER_TAB_COLUMNS"</span>, <span class="stringliteral">"TABLE_NAME"</span>, table_name, NULL))) {
    error_exit(dbh, <span class="stringliteral">"sqlo_count"</span>);
  }
  <span class="keywordflow">return</span> stat;
}

<span class="comment">/* $Id: ex2.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
</pre></div> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex2_8c-example.html#a50">ex2.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="sqlora.h::sqlo_exec"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_exec           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>stmt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Execute a simple sql statement. 
<p>
Use this to execute non-qeuery statements without bind variables.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stmt</em>&nbsp;</td><td>A sql statement</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of processed rows (DML statements), 0 (non DML statements) or &lt; 0 on error.</dd></dl>
<dl compact><dt><b>Example: </b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex8.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="keywordtype">int</span> update_emp(sqlo_db_handle_t dbh, <span class="keywordtype">double</span> factor, <span class="keyword">const</span> <span class="keywordtype">char</span> * job)
{
  <span class="keywordtype">int</span> stat;
  <span class="keywordtype">char</span> stmt[1024];

  sprintf(stmt, <span class="stringliteral">"UPDATE EMP SET SAL = SAL * %f WHERE JOB = '%s'"</span>,
          factor, job);

  <span class="keywordflow">if</span> ( 0 &gt; (stat = <a class="code" href="group__easy.html#ga16">sqlo_exec</a>(dbh, stmt)))
    error_exit(dbh, "sqlo_run");

  return stat;                  <span class="comment">/* number of processed rows */</span>
}

<span class="comment">/* $Id: ex8.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>

</pre></div></dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga2">sqlo_run</a> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex13_8c-example.html#a13">ex13.c</a>, <a class="el" href="ex8_8c-example.html#a63">ex8.c</a>, and <a class="el" href="ex9_8c-example.html#a67">ex9.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="sqlora.h::sqlo_exists"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_exists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>colname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>colval</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>where</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tests if a value exists in a table. 
<p>
Tests if a record exists in a table where field = value [AND where].<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>I - A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>table</em>&nbsp;</td><td>I - A table name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colname</em>&nbsp;</td><td>I - A column name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colval</em>&nbsp;</td><td>I - A column value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>where</em>&nbsp;</td><td>I - More conditions (optional)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_NO_DATA </li>
<li>
&lt; 0 on error. </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex1.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="keywordtype">int</span> table_exists(sqlo_db_handle_t dbh, <span class="keywordtype">char</span> * table_name)
{
  <span class="keywordtype">int</span> stat;
  <span class="keywordflow">if</span> ( 0 &gt; (stat = <a class="code" href="group__easy.html#ga0">sqlo_exists</a>(dbh, <span class="stringliteral">"USER_TABLES"</span>, <span class="stringliteral">"TABLE_NAME"</span>, table_name, NULL))) {
    error_exit(dbh, <span class="stringliteral">"sqlo_exists"</span>);
   } 
  <span class="keywordflow">return</span> stat == <a class="code" href="group__constants.html#gga3a27">SQLO_SUCCESS</a> ? 1 : 0;
 }

<span class="comment">/* $Id: ex1.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
</pre></div> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex1_8c-example.html#a0">ex1.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="sqlora.h::sqlo_fetch"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_fetch           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>nrows</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fetches the data from an open cursor. 
<p>
This functions fetches data from an open cursor, if the sql was a query. For non-queries, the statement is executed. Use <a class="el" href="group__easy.html#ga7">sqlo_values</a> to get the data. <dl compact><dt><b>Attention:</b></dt><dd>nrows must be 1 for cursors opened with <a class="el" href="group__easy.html#ga3">sqlo_open</a> or <a class="el" href="group__easy.html#ga4">sqlo_open2</a>. For cursors where the output variables were defined manually with <a class="el" href="group__complex.html#ga5">sqlo_define_by_pos</a>, this can be for example the size of the array in which you are fetching.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nrows</em>&nbsp;</td><td>I - The number of rows to fetch.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_NO_DATA </li>
<li>
SQLO_SUCCESS_WITH_INFO </li>
<li>
&lt; 0 on error </li>
</ul>
SQLO_SUCCESS_WITH_INFO is returned for the following oracle errors (from the Oracle documentation of OCIStmtFetch): <ul>
<li>
ORA-24344 Success with compilation error </li>
<li>
ORA-23445 A truncation or null fetch error occurred </li>
<li>
ORA-23447 Warning of a NULL column in an aggregate function </li>
</ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex12_8c-example.html#a6">ex12.c</a>, <a class="el" href="ex17_8c-example.html#a38">ex17.c</a>, <a class="el" href="ex18_8c-example.html#a43">ex18.c</a>, <a class="el" href="ex19_8c-example.html#a49">ex19.c</a>, and <a class="el" href="ex7_8c-example.html#a60">ex7.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="sqlora.h::sqlo_isopen"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_isopen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sth</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Test if a cursor is open. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS if the cursor is open </li>
<li>
1 if not (unused sth) </li>
<li>
SQLO_INVALID_STMT_HANDLE. </li>
</ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga4">sqlo_open2</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="sqlora.h::sqlo_ncols"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_ncols           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the number of bind/select-list variables. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>I - 1 returns the number of bind variables, 0 returns the number of select list columns.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
The number of columns </li>
<li>
SQLO_INVALID_STMT_HANDLE </li>
</ul>
</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="sqlora.h::sqlo_ocol_name_lens"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const int* sqlo_ocol_name_lens           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the select list columns name lengths. 
<p>
Use this function to get the length of each select list column. Call this when you need the length of the column, for formatting purposes etc.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>O - A destination where the function can write the size of the returned array.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to an array of integers containing the lengths</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga9">sqlo_ocol_names</a>, <a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex7_8c-example.html#a59">ex7.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="sqlora.h::sqlo_ocol_names"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char** sqlo_ocol_names           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the select list columns. 
<p>
Use this function to get the select list column names. Most usefull for dynamic sql, where you don't know the sql statement at all.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>For new developments please use <a class="el" href="group__easy.html#ga10">sqlo_ocol_names2</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>O - A destination where the function can write the size of the returned array (optional).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to an array of strings containing the column names, NULL on error</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a>, <a class="el" href="group__easy.html#ga11">sqlo_ocol_name_lens</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="sqlora.h::sqlo_ocol_names2"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_ocol_names2           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char ***&nbsp;</td>
          <td class="mdname" nowrap> <em>ocol_names</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the select list columns. 
<p>
Use this function to get the select list column names. Most usefull for dynamic sql, where you don't know the sql statement at all.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>O - A destination where the function can write the size of the returned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ocol_names</em>&nbsp;</td><td>O - The address of a char ** which receives the array of ocol_names. array.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>SQLO_SUCCESS or &lt;0 on error. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex7_8c-example.html#a58">ex7.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="sqlora.h::sqlo_open"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sqlo_open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open a new cursor. 
<p>
This function opens a new cursor for a query statement.<p>
If the stmt is a SELECT statement, the function sets the attribute OCI_ATTR_PREFETCH rows to the max arraysize parameter of the library. This is a kind of internal array fetch Oracle provides to speed up the fetching. In case of an error, the allocated resources are freed. You don't have to call sqlo_close for an invalid sth.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>For new developments please use <a class="el" href="group__easy.html#ga4">sqlo_open2</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>I - A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stmt</em>&nbsp;</td><td>I - A sql statement </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>I - Number of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>I - Arguments</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
A statement handle </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex4.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> open_cursor(sqlo_db_handle_t dbh)
{
  <a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth;
  <span class="keywordtype">int</span> argc = 0;
  <span class="keyword">const</span> <span class="keywordtype">char</span> * argv[1];
  
  argv[argc++] = <span class="stringliteral">"1000"</span>;

  <span class="keywordflow">if</span> ( 0 &gt; (sth = (<a class="code" href="group__easy.html#ga3">sqlo_open</a>(dbh, <span class="stringliteral">"SELECT ENAME, SAL FROM EMP WHERE SAL &gt;= :1"</span>, 
                             argc, argv)))) {
    error_exit(dbh, <span class="stringliteral">"sqlo_open"</span>);
  }
  <span class="keywordflow">return</span> sth;
}

<span class="comment">/* $Id: ex4.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>

</pre></div></dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex4_8c-example.html#a54">ex4.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="sqlora.h::sqlo_open2"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_open2           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sthp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open a new cursor. 
<p>
This function opens a new cursor for a query statement. Use this function if your bind variables are all strings. If you need native datatype support, use <a class="el" href="group__complex.html#ga0">sqlo_prepare</a><p>
If the stmt is a SELECT statement, the function sets the attribute OCI_ATTR_PREFETCH rows to the max arraysize parameter of the library. This is a kind of internal array fetch Oracle provides to speed up the fetching. In case of an error, the allocated resources are freed. You don't have to call sqlo_close for an invalid sth.<p>
<dl compact><dt><b>Attention:</b></dt><dd>You have to init the passed statement handle with SQLO_STH_INIT. This is required escpecially in non-blocking mode.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sthp</em>&nbsp;</td><td>I/O - Returns the new sth in *sthp. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>I - A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stmt</em>&nbsp;</td><td>I - A sql statement </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>I - Number of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>I - Arguments</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_STILL_EXECUTING in non-blocking mode </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex5.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> open_cursor2(sqlo_db_handle_t dbh, <span class="keywordtype">double</span> min_income)
{
  <a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth = <a class="code" href="group__constants.html#gga5a52">SQLO_STH_INIT</a>;
  <span class="keywordtype">int</span> argc = 0;
  <span class="keyword">const</span> <span class="keywordtype">char</span> * argv[1];
  <span class="keywordtype">char</span> hlp[64];

  sprintf(hlp, <span class="stringliteral">"%f"</span>, min_income);

  argv[argc++] = hlp;

  <span class="keywordflow">if</span> ( 0 &gt; (<a class="code" href="group__easy.html#ga4">sqlo_open2</a>(&amp;sth, dbh, 
                       <span class="stringliteral">"SELECT ENAME, SAL FROM EMP WHERE SAL &gt;= :1"</span>, 
                       argc, argv))) {
    error_exit(dbh, <span class="stringliteral">"sqlo_open"</span>);
  }

  <span class="keywordflow">return</span> sth;
}
<span class="comment">/* $Id: ex5.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
</pre></div></dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a> </dd></dl>
<dl compact><dt><b>Since:</b></dt><dd>Version 2.2 </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex5_8c-example.html#a55">ex5.c</a>, and <a class="el" href="ex6_8c-example.html#a56">ex6.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="sqlora.h::sqlo_prows"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_prows           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sth</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the number of processed rows by this statement. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
Number of processed rows </li>
<li>
0 if it is not a dml statement </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex12_8c-example.html#a7">ex12.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="sqlora.h::sqlo_query_result"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_query_result           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int *&nbsp;</td>
          <td class="mdname" nowrap> <em>ncols</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char ***&nbsp;</td>
          <td class="mdname" nowrap> <em>values</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short **&nbsp;</td>
          <td class="mdname" nowrap> <em>value_lens</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char ***&nbsp;</td>
          <td class="mdname" nowrap> <em>colnames</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int **&nbsp;</td>
          <td class="mdname" nowrap> <em>colname_lens</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fetch the next row from the resultset and return the columns. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ncols</em>&nbsp;</td><td>O - The number of ouput columns </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>values</em>&nbsp;</td><td>O - The column values array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value_lens</em>&nbsp;</td><td>O - The value lengths array (leave NULL if you are not interested in) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colnames</em>&nbsp;</td><td>O - The column names array (leave NULL if you are not interested in) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>colname_lens</em>&nbsp;</td><td>O - The column name lengths array (leave NULL if you are not interested in)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_INVALID_STMT_TYPE if sth is not a query </li>
<li>
OCI status code </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example: </b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex20.c 301 2005-01-08 17:28:49Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="comment">/* Select employees with salary &gt; min_income using sqlo_query_result */</span>

<span class="keywordtype">int</span> ex20(sqlo_db_handle_t dbh, <span class="keywordtype">double</span> min_income)
{
  <a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth;       <span class="comment">/* statement handle */</span>
  <span class="keywordtype">int</span> status;                   <span class="comment">/* status of sqlo calls */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j;                      <span class="comment">/* loop counter */</span>
  <span class="keywordtype">char</span> ** v;                    <span class="comment">/* values */</span>
  <span class="keywordtype">char</span> ** col_names;           <span class="comment">/* column names */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *nl;            <span class="comment">/* column name lengths */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *vl;           <span class="comment">/* value lengths */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nc;              <span class="comment">/* number of columns */</span>
  <span class="keywordtype">int</span> nrows;

  sth = reopen_cursor(dbh, min_income); <span class="comment">/* see example of sqlo_reopen (ex6.c) */</span>


  printf(<span class="stringliteral">"Employees with SAL &gt; %-8.2f:\n"</span>, min_income);


  nrows = 0;
  <span class="comment">/* fetch the data */</span>
  <span class="keywordflow">while</span> ( SQLO_SUCCESS == (status = (<a class="code" href="group__easy.html#ga13">sqlo_query_result</a>(sth, <span class="comment">/* statement */</span>
                               &amp;nc, <span class="comment">/* number of columns */</span>
                               &amp;v,  <span class="comment">/* values */</span>
                               &amp;vl, <span class="comment">/* value lengths */</span>
                               &amp;col_names, <span class="comment">/* column names */</span>
                               &amp;nl   <span class="comment">/* column name lengths */</span>
                               )))) {
    
    <span class="keywordflow">if</span> ( nrows == 0 )
      {
    <span class="comment">/* print the header */</span>
    <span class="keywordflow">for</span> (i = 0; i &lt; nc; ++i)
      printf("%-*s ", nl[i]+4, col_names[i]);
    printf("\n");
    for (i = 0; i &lt; nc; ++i) {
      <span class="keywordflow">for</span> (j = 0; j &lt; nl[i]+4; ++j) {
        putchar(<span class="charliteral">'-'</span>);
      }
      putchar(<span class="charliteral">'+'</span>);
    }
    putchar(<span class="charliteral">'\n'</span>);
      }
    
    <span class="comment">/* print the column values */</span>
    <span class="keywordflow">for</span> (i = 0; i &lt; nc; ++i)
      printf("%-*s ", (vl[i] &gt; nl[i] ? vl[i] : nl[i])+4, v[i]);
    
    printf("\n");

    ++nrows;
  }

  if (0 &gt; status) {
    error_exit(dbh, <span class="stringliteral">"sqlo_query_result"</span>);
  }

  <span class="keywordflow">if</span> ( SQLO_SUCCESS != <a class="code" href="group__easy.html#ga15">sqlo_close</a>(sth))
    error_exit(dbh, "sqlo_close");

  return 1;

}

<span class="comment">/* $Id: ex20.c 301 2005-01-08 17:28:49Z kpoitschke $ */</span>
   
</pre></div> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex20_8c-example.html#a51">ex20.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="sqlora.h::sqlo_reopen"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_reopen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reopens a already used cursor. 
<p>
This function reopens an already used cursor with new bind variables. Reopening cursors improve the speed, because no new parse is necessary.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - The sth you want to rebind. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>I - Number of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>I - Arguments</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
SQLO_SUCCESS </li>
<li>
SQLO_STILL_EXECUTING in non-blocking mode </li>
<li>
&lt; 0 on error </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex6.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> reopen_cursor(sqlo_db_handle_t dbh, <span class="keywordtype">double</span> min_income)
{
  <span class="keyword">static</span> <a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth = <a class="code" href="group__constants.html#gga5a52">SQLO_STH_INIT</a>;
  <span class="keywordtype">int</span> argc = 0;
  <span class="keyword">const</span> <span class="keywordtype">char</span> * argv[1];
  <span class="keywordtype">char</span> hlp[64];

  sprintf(hlp, <span class="stringliteral">"%f"</span>, min_income);

  argv[argc++] = hlp;

  <span class="keywordflow">if</span> (SQLO_STH_INIT == sth) {
    <span class="comment">/* first time, open a new cursor */</span>
    <span class="keywordflow">if</span> ( 0 &gt; (<a class="code" href="group__easy.html#ga4">sqlo_open2</a>(&amp;sth, dbh, 
                         <span class="stringliteral">"SELECT ENAME, SAL FROM EMP WHERE SAL &gt;= :1"</span>, 
                         argc, argv))) {
      error_exit(dbh, <span class="stringliteral">"sqlo_open"</span>);
    }
  } <span class="keywordflow">else</span> {
    <span class="comment">/* next time, bind again with new variables */</span>
    <span class="keywordflow">if</span> ( 0 &gt; <a class="code" href="group__easy.html#ga5">sqlo_reopen</a>(sth, argc, argv))
      error_exit(dbh, "sqlo_reopen");
  }

  return sth;
}
<span class="comment">/* $Id: ex6.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
</pre></div></dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex6_8c-example.html#a57">ex6.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="sqlora.h::sqlo_run"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sqlo_run           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga0">sqlo_db_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Run a simple sql statements with parameters. 
<p>
Like <a class="el" href="group__easy.html#ga16">sqlo_exec</a>, but with bind parameters. This is basically the same as calling <a class="el" href="group__easy.html#ga3">sqlo_open</a> followed by <a class="el" href="group__easy.html#ga6">sqlo_fetch</a> and <a class="el" href="group__easy.html#ga15">sqlo_close</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbh</em>&nbsp;</td><td>I - A database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stmt</em>&nbsp;</td><td>I - A sql statement (non-query). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>I - Number of arguments in argv. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>I - The arguments</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>
The number of processed rows. </li>
<li>
SQLO_STILL_EXECUTING in non-blocking mode. </li>
<li>
&lt; 0 on error. </li>
</ul>
</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex3.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="keywordtype">int</span> update_manager(sqlo_db_handle_t dbh)
{
  <span class="keyword">const</span> <span class="keywordtype">char</span> * argv[2];
  <span class="keywordtype">int</span> stat;

  argv[0] = <span class="stringliteral">"0.5"</span>;
  argv[1] = <span class="stringliteral">"MANAGER"</span>;

  stat = <a class="code" href="group__easy.html#ga2">sqlo_run</a>(dbh, <span class="stringliteral">"UPDATE EMP SET SAL = SAL * :1 WHERE JOB = :2"</span>,
                 2, argv);
  <span class="keywordflow">if</span> (0 &gt; stat) {
    error_exit(dbh, <span class="stringliteral">"sqlo_run"</span>);
  }
  <span class="keywordflow">return</span> stat;
}
<span class="comment">/* $Id: ex3.c 221 2002-08-24 12:54:47Z kpoitschke $ */</span>

</pre></div> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex3_8c-example.html#a53">ex3.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="sqlora.h::sqlo_value_lens"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned short* sqlo_value_lens           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the length of the returned values. 
<p>
Returns the length in number of characters (bytes for non-unicode chars) for a dataset fetched by sqlo_fetch.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>O - A destination where the function can write the size of the returned array (optional).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to an array of unsigned shorts containing the lengths</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga7">sqlo_values</a>, <a class="el" href="group__easy.html#ga4">sqlo_open2</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex7_8c-example.html#a62">ex7.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="sqlora.h::sqlo_values"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char** sqlo_values           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>dostrip</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get one dataset. 
<p>
Returns the data for one set of data fetched via <a class="el" href="group__easy.html#ga6">sqlo_fetch</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sth</em>&nbsp;</td><td>I - A statement handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>O - A destination where the function could write the size of the returned array (optional) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dostrip</em>&nbsp;</td><td>I - A flag indicating whether trailing blanks should be stripped off (leading blanks in case of numbers).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to an array of strings containing the data values</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">/* $Id: ex7.c 287 2004-07-30 16:28:21Z kpoitschke $ */</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include "examples.h"</span>

<span class="keywordtype">int</span> do_select(sqlo_db_handle_t dbh, <span class="keywordtype">double</span> min_income)
{
  <a class="code" href="group__typedefs.html#ga1">sqlo_stmt_handle_t</a> sth;       <span class="comment">/* statement handle */</span>
  <span class="keywordtype">int</span> status;                   <span class="comment">/* status of sqlo calls */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j;                      <span class="comment">/* loop counter */</span>
  <span class="keyword">const</span> <span class="keywordtype">char</span> ** v;              <span class="comment">/* values */</span>
  <span class="keyword">const</span> <span class="keywordtype">char</span> ** col_names;      <span class="comment">/* column names */</span>
  CONST <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *nl;       <span class="comment">/* column name lengths */</span>
  CONST <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *vl;     <span class="comment">/* value lengths */</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nc;              <span class="comment">/* number of columns */</span>


  sth = reopen_cursor(dbh, min_income); <span class="comment">/* see example of sqlo_reopen (ex6.c) */</span>

  <span class="comment">/* get the output column names */</span>
  status = <a class="code" href="group__easy.html#ga10">sqlo_ocol_names2</a>(sth, &amp;nc, &amp;col_names);

  <span class="keywordflow">if</span> (0 &gt; status) {
    error_exit(dbh, <span class="stringliteral">"sqlo_ocol_names2"</span>);
  }

  <span class="comment">/* get the output column name lengths */</span>
  nl = <a class="code" href="group__easy.html#ga11">sqlo_ocol_name_lens</a>(sth, NULL);

  printf(<span class="stringliteral">"Employees with SAL &gt; %-8.2f:\n"</span>, min_income);

  <span class="comment">/* print the header */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; nc; ++i)
    printf("%-*s ", nl[i], col_names[i]);

  printf("\n");
  for (i = 0; i &lt; nc; ++i) {
    <span class="keywordflow">for</span> (j = 0; j &lt; nl[i]; ++j) {
      putchar(<span class="charliteral">'-'</span>);
    }
    putchar(<span class="charliteral">'+'</span>);
  }
  putchar(<span class="charliteral">'\n'</span>);

  <span class="comment">/* fetch the data */</span>
  <span class="keywordflow">while</span> ( SQLO_SUCCESS == (status = (<a class="code" href="group__easy.html#ga6">sqlo_fetch</a>(sth, 1)))) {
    
    <span class="comment">/* get one record */</span>
    v = <a class="code" href="group__easy.html#ga7">sqlo_values</a>(sth, NULL, 1);

    <span class="comment">/* get the length of the data items */</span>
    vl = <a class="code" href="group__easy.html#ga8">sqlo_value_lens</a>(sth, NULL);

    <span class="comment">/* print the column values */</span>
    <span class="keywordflow">for</span> (i = 0; i &lt; nc; ++i)
      printf("%-*s ", (vl[i] &gt; nl[i] ? vl[i] : nl[i]), v[i]);

    printf("\n");

  }

  if (0 &gt; status) {
    error_exit(dbh, <span class="stringliteral">"sqlo_fetch"</span>);
  }

  <span class="comment">/*</span>
<span class="comment">  if ( SQLO_SUCCESS != sqlo_close(sth))</span>
<span class="comment">    error_exit(dbh, "sqlo_close");</span>
<span class="comment">  */</span>
  <span class="keywordflow">return</span> 1;

}

<span class="comment">/* $Id: ex7.c 287 2004-07-30 16:28:21Z kpoitschke $ */</span>
</pre></div></dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__easy.html#ga6">sqlo_fetch</a>, <a class="el" href="group__easy.html#ga8">sqlo_value_lens</a>, <a class="el" href="group__easy.html#ga3">sqlo_open</a>, <a class="el" href="group__easy.html#ga15">sqlo_close</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex17_8c-example.html#a39">ex17.c</a>, and <a class="el" href="ex7_8c-example.html#a61">ex7.c</a>.</dl>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Fri Nov 4 16:19:04 2005 for libsqlora8 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
